---
title: Events
description: Lorem ipsum dolor sit amet, consectetur adipiscing elit.
permalink: events
icon: lucide:bell
order: 2
---

# Events

The Discord API uses a real-time event system transmitted via a WebSocket connection to allow client applications to receive instant updates from the server.

---

## Introduction

When a bot or application connects to the Discord gateway, it receives a continuous stream of events, such as new messages, user status changes, channel changes, and much more.

An event listener is a function that listens to a specific event and triggers an action when the event is dispatched.

Basically, Mineral offers an event system that can be used in two different ways.

---

## Functional approach

Let's take a simple example of a bot that listens to the `MessageCreate` event and prints the message content to the console.

From the `Client`, we can chain event listeners using the following pattern :

:::code-group labels=[boilerplate, main.dart]

```dart
client.events.<context>.<event>(<listener>)
```

```dart
Future<void> main(_, port) async {
  final client = ClientBuilder()
    .setHmrDevPort(port)
    .build();

  client.events.server.messageCreate((message) {
    print(message.content);
  });

  await client.init();
}
```

:::

---

## Object-oriented approach

For benchmarking purposes, we recommend using the `functional` approach, but when developing applications requiring
more than 2 events or commands, we recommend using the object-oriented approach.

:::code-group labels=[boilerplate, message_create.dart, main.dart]

```dart
final class <ClassName> extends <Event> {
  @override
  FutureOr<void> handle(<params>) {
    // Your business code here
  }
}
```

```dart
final class MessageCreate extends MessageCreateEvent {
  @override
  void handle(ServerMessage message) {
    print(message.content);
  }
}
```

```dart
Future<void> main(_, port) async {
  final client = ClientBuilder()
    .setHmrDevPort(port)
    .build();

  client.register(MessageCreate.new);

  await client.init();
}
```

:::
